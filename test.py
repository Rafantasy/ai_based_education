# -*- encoding:utf-8 -*-
import requests
import json
from data import proc

if __name__ == '__main__':
    headers = {'content-type': 'application/json'}
    
    # req = proc.main(8)
    # req['student_info']['english_level'] = 'A2+~B1'
    # req['student_info']['rate'] = 'A'
    # req['student_info']['subject_interest'] = "生物学,数学/理科"
    # req['student_info']['profile_type'] = "SJPR｜脑博士Brain Doctor 🧠🔬⚙️"
    # 
    # # print(req)
    # print(req['student_info'])

    req = {'student_info': {'name': '这死猪婆便宜', 'gender': '女', 'school_type': '私立', 'current_grade': 'G12', 'city_location': '洛阳市', 'college_goal_path': ['港澳台本科'], 'id': 'f63ff332-9cfa-11f0-86aa-0242ac120003', 'subject_interest': '英语/外语', 'profile_type': 'AJIR｜创新家Innovator 🎨🔬⚽', 'english_level': 'B2', 'rate': 'B'}, 'eval_result': [{'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子是否喜欢体育运动？', 'answer': ['偶尔喜欢（看心情）']}, {'question_section_name': '专注力', 'question_type': 1, 'question': '学习时，孩子的专注程度是？', 'answer': ['大多数能专注']}, {'question_section_name': '写作能力', 'question_type': 1, 'question': '写语文作文时，孩子的表现如何？', 'answer': ['写得清楚，意思能说明白']}, {'question_section_name': '数理思维', 'question_type': 1, 'question': '孩子数学成绩表现更常是？', 'answer': ['多数在 75%–89%（良好）']}, {'question_section_name': '检查习惯', 'question_type': 1, 'question': '做题时，孩子是否会检查？', 'answer': ['经常检查']}, {'question_section_name': '时间管理', 'question_type': 1, 'question': '孩子的时间管理习惯是？', 'answer': ['有计划但执行差']}, {'question_section_name': '协作力', 'question_type': 1, 'question': '孩子在和小伙伴相处时，更常见的表现是？', 'answer': ['跟着大家，别人怎么做就跟着做']}, {'question_section_name': '公共表达', 'question_type': 1, 'question': '孩子在公众场合发言时，更像？', 'answer': ['在人多时声音轻小，略显害羞']}, {'question_section_name': '创造力', 'question_type': 1, 'question': '当遇到需要创新的作业时，孩子会？', 'answer': ['模仿他人做法']}, {'question_section_name': '解决问题能力', 'question_type': 1, 'question': '当面对复杂问题时，孩子更常？', 'answer': ['依赖直觉或别人帮忙']}, {'question_section_name': '社会认知', 'question_type': 1, 'question': '孩子平时会不会关心新闻或身边发生的大事？', 'answer': ['一般不主动，别人说了才知道']}, {'question_section_name': '探索力', 'question_type': 1, 'question': '孩子是否参加过学科类实践/社会公益活动？', 'answer': ['有过短暂尝试']}, {'question_section_name': '学术竞争力', 'question_type': 1, 'question': '孩子是否参加过学科类竞赛/学术探究活动？', 'answer': ['有过尝试']}, {'question_section_name': '学习习惯', 'question_type': 1, 'question': '孩子是否会主动预习/复习？', 'answer': ['偶尔才会']}, {'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子是否有长期参与某项运动的专业训练？', 'answer': ['有（超过2年，固定项目/教练）']}, {'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子是否参加过体育比赛或获得奖项？', 'answer': ['有市级/校级奖项']}, {'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子在艺术（音乐/美术/舞蹈/表演等）方面的兴趣如何？', 'answer': ['兴趣强烈（很喜欢上台表演）']}, {'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子是否有长期学习/训练艺术类项目？', 'answer': ['有（1–2年）']}, {'question_section_name': '体育艺术', 'question_type': 1, 'question': '孩子是否获得过艺术类（音乐/美术/舞蹈/戏剧等）奖项/证书？', 'answer': ['市级/校级']}, {'question_section_name': '家庭陪伴', 'question_type': 1, 'question': '父母是否经常陪伴孩子？', 'answer': ['偶尔陪伴']}, {'question_section_name': '亲子沟通', 'question_type': 1, 'question': '孩子与父母的沟通频率是？', 'answer': ['一个月聊几次']}, {'question_section_name': '孩子期望', 'question_type': 1, 'question': '孩子自己对未来最大的期待是？', 'answer': ['做喜欢的事']}, {'question_section_name': '家长期望', 'question_type': 1, 'question': '父母对孩子未来的最大期望是？（最多选3项）', 'answer': ['健康快乐，心态阳光']}, {'question_section_name': '孩子未来愿景', 'question_type': 1, 'question': '如果孩子一时说不清未来的样子，可以先从“想做的职业”来选择：', 'answer': ['企业家 / 领袖']}, {'question_section_name': '潜力意向', 'question_type': 1, 'question': '如果给未来的孩子一个“魔法选择”，最希望拥有的能力是？', 'answer': ['创造发明（能造出新东西）']}, {'question_section_name': '学科兴趣', 'question_type': 1, 'question': '孩子最喜欢的学科是？', 'answer': ['英语/外语']}, {'question_section_name': '团队角色', 'question_type': 1, 'question': '孩子在和同伴合作时，更像是？', 'answer': ['团队执行者']}, {'question_section_name': '社交表达', 'question_type': 1, 'question': '在公众场合，孩子更可能？', 'answer': ['紧张沉默']}, {'question_section_name': '情绪调节', 'question_type': 1, 'question': '当孩子面对批评时，更可能？', 'answer': ['表面接受但心里别扭']}, {'question_section_name': '毅力', 'question_type': 1, 'question': '孩子是否容易坚持完成一件事？', 'answer': ['大多数能坚持']}, {'question_section_name': '适应力', 'question_type': 1, 'question': '在陌生环境，孩子的适应速度是？', 'answer': ['较慢']}, {'question_section_name': '团队角色', 'question_type': 1, 'question': '孩子在团队中更像？', 'answer': ['支持型']}, {'question_section_name': '自律习惯', 'question_type': 1, 'question': '在生活习惯上，孩子更像？', 'answer': ['经常拖延', '偶尔需要提醒']}, {'question_section_name': '自我认知（优势）', 'question_type': 1, 'question': '孩子最大的 3 个性格优点是？（请选择 3 个）', 'answer': ['有责任心', '善于倾听', '坚持不懈']}, {'question_section_name': '自我认知（短板）', 'question_type': 1, 'question': '孩子最需要改的 3 个性格缺点是？（请选择 3 个）', 'answer': ['容易放弃', '固执']}, {'question_section_name': '成就动机', 'question_type': 1, 'question': '如果一时想不出具体的事情，可以选择以下情境，哪个情境最可能让孩子获得成就感：', 'answer': ['在家庭中完成一件小事（如做饭、整理房间）被认可', '在学科竞赛/体育比赛/活动中取得成绩']}, {'question_section_name': '学科水平', 'question_type': 1, 'question': '孩子平时成绩大致在哪个水平？', 'answer': ['中等水平']}, {'question_section_name': '性格韧性', 'question_type': 1, 'question': '当孩子遇到困难时，更常见的反应是？', 'answer': ['容易放弃']}, {'question_section_name': '偏科情况', 'question_type': 1, 'question': '孩子是否存在“偏科”？', 'answer': ['数理强、文科弱']}, {'question_section_name': '学业稳定度', 'question_type': 1, 'question': '最近一次重要考试，孩子的表现是？', 'answer': ['正常发挥']}, {'question_section_name': '补习情况', 'question_type': 1, 'question': '孩子参加了多少学科补习班？', 'answer': ['1 个（学科补习班/家教）']}, {'question_section_name': '目标感', 'question_type': 1, 'question': '孩子对自己未来3–5年的学习目标有想法吗？', 'answer': ['有点想法，大概知道方向']}, {'question_section_name': '作业态度', 'question_type': 1, 'question': '完成作业时，孩子的态度是？', 'answer': ['马虎完成，想快点结束']}, {'question_section_name': '老师评价（优点）', 'question_type': 1, 'question': '老师平时评价孩子的学习有哪些优点？（最多3个）', 'answer': ['作业认真', '进步明显']}, {'question_section_name': '老师评价（短板）', 'question_type': 1, 'question': '老师常提醒孩子哪些方面需要改进？（最多3个）', 'answer': ['不爱阅读', '缺少耐心']}, {'question_section_name': '英语能力', 'question_type': 1, 'question': '孩子在阅读理解英文时，通常能理解到什么程度？', 'answer': ['能读很长（1000+词），能抓住重点和观点']}, {'question_section_name': '英语能力', 'question_type': 1, 'question': '孩子在日常英文交流中，一般能做到哪种程度？', 'answer': ['能描述经历和观点，听懂正常语速']}, {'question_section_name': '英语能力', 'question_type': 1, 'question': '孩子写英文时，能写到什么程度？', 'answer': ['能写120–180词的作文/邮件']}, {'question_section_name': '英语能力', 'question_type': 1, 'question': '孩子是否参加过以下英语考试？请选择最近一次且成绩最高的一项。', 'answer': ['PET Pass']}]}
    # print(req)

    # # 开放问题小结
    # r = requests.post("http://127.0.0.1:5000/open_question", data=json.dumps(req), headers=headers)
    
    # # 人才画像
    # r = requests.post("http://127.0.0.1:5000/instant_profile", data=json.dumps(req), headers=headers)
    
    # # swot分析
    r = requests.post("http://127.0.0.1:5000/swot", data=json.dumps(req), headers=headers)
    
    # # 成长建议
    # r = requests.post("http://127.0.0.1:5000/growth_advice", data=json.dumps(req), headers=headers)
    
    print(json.dumps(r.json(),indent=4,ensure_ascii=False))
